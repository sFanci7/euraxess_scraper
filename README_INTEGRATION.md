# ğŸš€ Euraxess ä¸€ä½“åŒ–çˆ¬è™«åº”ç”¨

## ğŸ“– åŠŸèƒ½è¯´æ˜

è¿™æ˜¯ä¸€ä¸ªé›†æˆäº†**å®šæ—¶çˆ¬è™«**å’Œ**Web æ•°æ®å±•ç¤º**çš„ä¸€ä½“åŒ– Docker åº”ç”¨ï¼š

âœ… **è‡ªåŠ¨å®šæ—¶çˆ¬å–**: æ¯å¤©ä¸–ç•Œæ—¶é—´ï¼ˆUTCï¼‰ä¸‹åˆ 6 ç‚¹ï¼ˆ18:00ï¼‰è‡ªåŠ¨è¿è¡Œ  
âœ… **å®æ—¶ Web ç•Œé¢**: é€šè¿‡ Streamlit æä¾›æ•°æ®ç­›é€‰å’Œå¯è§†åŒ–  
âœ… **æ•°æ®æŒä¹…åŒ–**: æ‰€æœ‰æ•°æ®ä¿å­˜åœ¨æœ¬åœ°`output/`ç›®å½•  
âœ… **ä¸€ä¸ªé•œåƒ**: æ— éœ€ç®¡ç†å¤šä¸ªå®¹å™¨ï¼Œç®€å•é«˜æ•ˆ

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### æ–¹æ³• 1: Docker Compose (æ¨è)

```bash
# å¯åŠ¨ä¸€ä½“åŒ–æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢æœåŠ¡
docker-compose down
```

### æ–¹æ³• 2: å•ä¸ª Docker å‘½ä»¤

```bash
# å¯åŠ¨å®Œæ•´æœåŠ¡
docker run -d -p 8501:8501 -v "${PWD}/output:/app/output" --name euraxess euraxess-scraper

# æŸ¥çœ‹æ—¥å¿—
docker logs -f euraxess

# åœæ­¢æœåŠ¡
docker stop euraxess && docker rm euraxess
```

### æ–¹æ³• 3: ä½¿ç”¨ç®¡ç†è„šæœ¬ (Windows)

```powershell
# å¯åŠ¨æœåŠ¡
.\manage-scheduler.ps1 start

# æŸ¥çœ‹çŠ¶æ€
.\manage-scheduler.ps1 status

# æŸ¥çœ‹å®šæ—¶ä¿¡æ¯
.\manage-scheduler.ps1 schedule

# ç«‹å³è¿è¡Œçˆ¬è™«
.\manage-scheduler.ps1 run-now
```

## ğŸŒ è®¿é—®åº”ç”¨

å¯åŠ¨åï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼š**http://localhost:8501**

## â° å®šæ—¶ä»»åŠ¡è¯¦æƒ…

- **è¿è¡Œæ—¶é—´**: æ¯å¤© UTC 18:00 (ä¸–ç•Œæ—¶é—´ä¸‹åˆ 6 ç‚¹)
- **å¯¹åº”æ—¶åŒº**:
  - åŒ—äº¬æ—¶é—´: æ¬¡æ—¥ 02:00
  - çº½çº¦æ—¶é—´: 14:00 (å¤ä»¤æ—¶) / 13:00 (æ ‡å‡†æ—¶é—´)
  - ä¼¦æ•¦æ—¶é—´: 19:00 (å¤ä»¤æ—¶) / 18:00 (æ ‡å‡†æ—¶é—´)

## ğŸ“ æ–‡ä»¶ç»“æ„

```
euraxess_scraper/
â”œâ”€â”€ ğŸ³ docker-compose.yml    # Docker Composeé…ç½®
â”œâ”€â”€ ğŸ³ Dockerfile           # ä¸€ä½“åŒ–é•œåƒé…ç½®
â”œâ”€â”€ ğŸ“‹ requirements.txt     # Pythonä¾èµ–
â”œâ”€â”€ ğŸ•·ï¸ euraxess/            # Scrapyçˆ¬è™«ä»£ç 
â”œâ”€â”€ ğŸ“Š app.py              # Streamlitåº”ç”¨
â”œâ”€â”€ ğŸ“‚ output/             # æ•°æ®è¾“å‡ºç›®å½•
â””â”€â”€ ğŸ”§ manage-scheduler.ps1 # Windowsç®¡ç†è„šæœ¬
```

## ğŸ”§ é«˜çº§ç”¨æ³•

### ä»…è¿è¡Œç‰¹å®šåŠŸèƒ½

```bash
# ä»…è¿è¡Œçˆ¬è™«ä¸€æ¬¡
docker run --rm -v "${PWD}/output:/app/output" euraxess-scraper scrape

# ä»…è¿è¡ŒWebç•Œé¢
docker run -p 8501:8501 -v "${PWD}/output:/app/output" euraxess-scraper streamlit

# ä»…è¿è¡Œå®šæ—¶ä»»åŠ¡
docker run -v "${PWD}/output:/app/output" euraxess-scraper scheduler
```

### è‡ªå®šä¹‰å®šæ—¶

å¦‚éœ€ä¿®æ”¹å®šæ—¶è®¾ç½®ï¼Œç¼–è¾‘ Dockerfile ä¸­çš„ cron é…ç½®ï¼š

```bash
# å½“å‰: æ¯å¤©18:00 UTC
# ä¿®æ”¹ä¸ºæ¯å¤©12:00 UTC: å°† "0 18" æ”¹ä¸º "0 12"
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### ç«¯å£å†²çª

å¦‚æœ 8501 ç«¯å£è¢«å ç”¨ï¼Œä½¿ç”¨å…¶ä»–ç«¯å£ï¼š

```bash
docker run -p 8502:8501 -v "${PWD}/output:/app/output" euraxess-scraper
# ç„¶åè®¿é—® http://localhost:8502
```

### æŸ¥çœ‹å®šæ—¶ä»»åŠ¡æ—¥å¿—

```bash
docker exec -it euraxess tail -f /var/log/cron.log
```

### é‡æ–°æ„å»ºé•œåƒ

```bash
docker build -t euraxess-scraper . --no-cache
```

## ğŸ“ˆ æ•°æ®è¯´æ˜

- **æ•°æ®æ¥æº**: Euraxess æ¬§æ´²ç§‘ç ”èŒä½ç½‘ç«™
- **æ›´æ–°é¢‘ç‡**: æ¯å¤©è‡ªåŠ¨æ›´æ–°
- **æ•°æ®æ ¼å¼**: CSV æ–‡ä»¶å­˜å‚¨åœ¨`output/jobs.csv`
- **å†å²æ•°æ®**: ä¿ç•™æ¯æ—¥çˆ¬å–çš„å†å²æ–‡ä»¶

## ğŸ‰ äº«å—ä½¿ç”¨ï¼

ç°åœ¨ä½ æœ‰äº†ä¸€ä¸ªå®Œå…¨è‡ªåŠ¨åŒ–çš„èŒä½æ•°æ®æ”¶é›†å’Œåˆ†æç³»ç»Ÿï¼

- ğŸ”„ æ— éœ€æ‰‹åŠ¨æ“ä½œï¼Œæ¯å¤©è‡ªåŠ¨æ›´æ–°æ•°æ®
- ğŸ“Š éšæ—¶é€šè¿‡ Web ç•Œé¢æŸ¥çœ‹å’Œç­›é€‰æ•°æ®
- ğŸ³ Docker å®¹å™¨åŒ–ï¼Œéƒ¨ç½²ç®€å•ï¼Œç¯å¢ƒä¸€è‡´
- ğŸ’¾ æ•°æ®æŒä¹…åŒ–ï¼Œé‡å¯ä¸ä¸¢å¤±
